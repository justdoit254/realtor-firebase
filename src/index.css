@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   Design System - CSS Custom Properties
   ============================================ */
:root {
  /* Colors */
  --color-surface: #FAFAFA;
  --color-surface-elevated: #FFFFFF;
  --color-ink: #0F172A;
  --color-ink-light: #334155;
  --color-ink-muted: #64748B;
  --color-ink-faint: #94A3B8;
  --color-accent: #0F172A;
  --color-accent-hover: #1E293B;
  --color-success: #10B981;
  --color-error: #EF4444;
  
  /* Spacing */
  --space-section: 2rem;
  --space-card: 1.5rem;
  
  /* Border radius */
  --radius-sm: 0.5rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.5rem;
  --radius-full: 9999px;
  
  /* Shadows */
  --shadow-soft: 0 2px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 16px -4px rgba(0, 0, 0, 0.08);
  --shadow-soft-lg: 0 4px 12px -2px rgba(0, 0, 0, 0.06), 0 8px 24px -4px rgba(0, 0, 0, 0.1);
  
  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;
}

/* ============================================
   Base Styles
   ============================================ */
body {
  background-color: var(--color-surface);
  color: var(--color-ink);
  font-family: 'Plus Jakarta Sans', system-ui, -apple-system, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Hide scrollbar but keep functionality */
html::-webkit-scrollbar {
  display: none;
}

html {
  scrollbar-width: none;
}

/* ============================================
   Form Components - Base Layer
   ============================================ */
@layer components {
  /* Card container */
  .card {
    @apply bg-white rounded-2xl shadow-soft p-6;
  }
  
  .card-elevated {
    @apply bg-white rounded-2xl shadow-soft-lg p-8;
  }

  /* Form input base styles */
  .form-input-base {
    @apply w-full px-4 py-3 
           bg-white border border-surface-200 rounded-xl
           text-ink placeholder:text-ink-faint
           transition-all duration-200 ease-smooth
           focus:outline-none focus:ring-2 focus:ring-accent/10 focus:border-ink
           hover:border-surface-300;
  }

  .form-input-error {
    @apply border-error focus:ring-error/10 focus:border-error;
  }

  /* Form label */
  .form-label {
    @apply block text-sm font-medium text-ink-light mb-2;
  }

  .form-label-required::after {
    content: ' *';
    @apply text-error;
  }

  /* Form helper text */
  .form-helper {
    @apply text-xs text-ink-muted mt-1.5;
  }

  .form-error {
    @apply text-xs text-error mt-1.5;
  }

  /* Toggle button group */
  .toggle-group {
    @apply inline-flex rounded-xl bg-surface-100 p-1 gap-1;
  }

  .toggle-button {
    @apply px-5 py-2.5 rounded-lg text-sm font-medium
           text-ink-muted transition-all duration-200 ease-smooth
           hover:text-ink;
  }

  .toggle-button-active {
    @apply bg-white text-ink shadow-soft;
  }

  /* Pill toggle (Yes/No style) */
  .pill-toggle {
    @apply flex gap-3;
  }

  .pill-option {
    @apply flex-1 py-3 px-4 rounded-xl text-sm font-medium text-center
           border-2 border-transparent cursor-pointer
           transition-all duration-200 ease-smooth;
  }

  .pill-option-inactive {
    @apply bg-surface-100 text-ink-muted hover:bg-surface-200;
  }

  .pill-option-active {
    @apply bg-accent text-white;
  }

  /* Primary button */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2
           px-6 py-3 rounded-xl
           bg-ink text-white font-semibold text-sm
           transition-all duration-200 ease-smooth
           hover:bg-ink-light hover:shadow-soft-lg
           focus:outline-none focus:ring-2 focus:ring-ink/20 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Secondary button */
  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2
           px-6 py-3 rounded-xl
           bg-surface-100 text-ink font-semibold text-sm
           transition-all duration-200 ease-smooth
           hover:bg-surface-200
           focus:outline-none focus:ring-2 focus:ring-ink/10 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Ghost button */
  .btn-ghost {
    @apply inline-flex items-center justify-center gap-2
           px-4 py-2 rounded-lg
           text-ink-muted font-medium text-sm
           transition-all duration-200 ease-smooth
           hover:bg-surface-100 hover:text-ink
           focus:outline-none;
  }

  /* Step indicator */
  .step-indicator {
    @apply flex items-center gap-2;
  }

  .step-dot {
    @apply w-3 h-3 rounded-full transition-all duration-300 ease-smooth;
  }

  .step-dot-completed {
    @apply bg-success;
  }

  .step-dot-active {
    @apply bg-ink w-8;
  }

  .step-dot-upcoming {
    @apply bg-surface-200;
  }

  /* Progress bar */
  .progress-bar {
    @apply h-1 bg-surface-200 rounded-full overflow-hidden;
  }

  .progress-fill {
    @apply h-full bg-ink rounded-full transition-all duration-500 ease-smooth;
  }

  /* Section header */
  .section-title {
    @apply text-lg font-semibold text-ink mb-1;
  }

  .section-subtitle {
    @apply text-sm text-ink-muted;
  }

  /* Photo upload area */
  .photo-upload-zone {
    @apply relative flex flex-col items-center justify-center
           p-8 border-2 border-dashed border-surface-200 rounded-2xl
           bg-surface-50 cursor-pointer
           transition-all duration-200 ease-smooth
           hover:border-ink-faint hover:bg-surface-100;
  }

  .photo-upload-zone-active {
    @apply border-accent bg-accent/5;
  }

  .photo-preview {
    @apply relative aspect-video rounded-xl overflow-hidden bg-surface-100;
  }

  .photo-preview img {
    @apply w-full h-full object-cover;
  }

  .photo-preview-overlay {
    @apply absolute inset-0 bg-ink/0 flex items-center justify-center gap-2
           opacity-0 transition-all duration-200
           hover:bg-ink/40 hover:opacity-100;
  }

  /* Badge */
  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply bg-success-light text-success-dark;
  }

  .badge-warning {
    @apply bg-warning-light text-warning;
  }

  .badge-error {
    @apply bg-error-light text-error-dark;
  }

  /* Divider */
  .divider {
    @apply h-px bg-surface-200 my-6;
  }
}

/* ============================================
   Step Transition Animations
   ============================================ */
@layer utilities {
  .step-enter {
    animation: fadeInUp 0.4s ease-out forwards;
  }

  .step-exit {
    animation: fadeOut 0.2s ease-in forwards;
  }

  @keyframes fadeOut {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-8px); }
  }
}

/* ============================================
   Swiper Overrides (for existing slider)
   ============================================ */
.swiper-button-next:after,
.swiper-button-prev:after {
  color: var(--color-ink-muted);
}

.swiper-pagination-progressbar-fill {
  background: var(--color-ink) !important;
}

/* ============================================
   Focus Visible Styles
   ============================================ */
*:focus-visible {
  @apply outline-none ring-2 ring-ink/20 ring-offset-2;
}

/* ============================================
   Selection Styles
   ============================================ */
::selection {
  background-color: rgba(15, 23, 42, 0.1);
}

/* ============================================
   Checkbox & Radio Custom Styles
   ============================================ */
input[type="checkbox"],
input[type="radio"] {
  @apply w-5 h-5 rounded border-surface-300 text-ink 
         focus:ring-ink/20 focus:ring-offset-0
         transition-colors duration-150;
}

input[type="radio"] {
  @apply rounded-full;
}

/* ============================================
   Select Custom Styles
   ============================================ */
select.form-input-base {
  @apply pr-10 appearance-none cursor-pointer;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2364748B' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.75rem center;
  background-repeat: no-repeat;
  background-size: 1.25rem 1.25rem;
}

/* ============================================
   Number Input - Hide Spinners
   ============================================ */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
}

/* ============================================
   Textarea Auto-resize Support
   ============================================ */
textarea.form-input-base {
  @apply min-h-[120px] resize-none;
}
